{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { clerkMiddleware, createRouteMatcher } from \"@clerk/nextjs/server\";\nimport { NextResponse } from \"next/server\";\n\nconst isProtectedRoute = createRouteMatcher([\"/admin(.*)\"]);\n\nexport default clerkMiddleware(async (auth, req) => {\n  if (isProtectedRoute(req)) {\n    // Get auth info\n    const authInfo = await auth();\n\n    // Check if user is signed in\n    if (!authInfo.userId) {\n      return NextResponse.redirect(new URL(\"/sign-in\", req.url));\n    }\n\n    // For admin-only access, you can uncomment and customize this:\n    // Note: This requires importing clerkClient and may impact performance\n    // For better performance, consider checking admin status in the page component\n\n    /*\n    try {\n      const { clerkClient } = await import(\"@clerk/nextjs/server\");\n      const client = await clerkClient();\n      const user = await client.users.getUser(authInfo.userId);\n      \n      // Check admin emails\n      const adminEmails = [\"admin@uwumi.com\"]; // Add your admin emails\n      const userEmail = user.emailAddresses.find(email => email.id === user.primaryEmailAddressId)?.emailAddress;\n      \n      if (!adminEmails.includes(userEmail || \"\")) {\n        return NextResponse.redirect(new URL(\"/\", req.url));\n      }\n    } catch (error) {\n      console.error(\"Admin check failed:\", error);\n      return NextResponse.redirect(new URL(\"/\", req.url));\n    }\n    */\n  }\n});\n\nexport const config = {\n  matcher: [\"/((?!.*\\\\..*|_next).*)\", \"/\", \"/(api|trpc)(.*)\"],\n};\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AAAA;;;AAEA,MAAM,mBAAmB,CAAA,GAAA,kLAAA,CAAA,qBAAkB,AAAD,EAAE;IAAC;CAAa;uCAE3C,CAAA,GAAA,qLAAA,CAAA,kBAAe,AAAD,EAAE,OAAO,MAAM;IAC1C,IAAI,iBAAiB,MAAM;QACzB,gBAAgB;QAChB,MAAM,WAAW,MAAM;QAEvB,6BAA6B;QAC7B,IAAI,CAAC,SAAS,MAAM,EAAE;YACpB,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,YAAY,IAAI,GAAG;QAC1D;IAEA,+DAA+D;IAC/D,uEAAuE;IACvE,+EAA+E;IAE/E;;;;;;;;;;;;;;;;;IAiBA,GACF;AACF;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;QAA0B;QAAK;KAAkB;AAC7D"}}]
}